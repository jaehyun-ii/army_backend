# =============================================================================
# Army Backend - Environment Configuration Example
# =============================================================================
# Copy this file to .env and update with your actual values

# Environment
ENVIRONMENT=development  # development, staging, production, testing

# Database
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/army_backend
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_PRE_PING=true
DATABASE_ECHO=false

# Security
SECRET_KEY=your-secret-key-here-change-in-production  # Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_MIN_LENGTH=8

# Application
APP_NAME=Adversarial Vision Platform API
APP_VERSION=1.0.0
DEBUG=false
API_PREFIX=/api/v1

# Storage
STORAGE_ROOT=./storage
STORAGE_TYPE=local  # local or s3
MAX_UPLOAD_SIZE=104857600  # 100MB in bytes
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/bmp
DEFAULT_PATCH_PLUGIN=global_pgd_2d
DEFAULT_NOISE_PLUGIN=fgsm_2d

# S3 (optional, if STORAGE_TYPE=s3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET=

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=./logs/app.log

# NEW: Third-party library logging levels (configurable via JSON)
# This allows you to control verbosity of dependencies without code changes
# Format: JSON object with logger names as keys and log levels as values
LOG_THIRD_PARTY_LEVELS={"uvicorn.access": "WARNING", "sqlalchemy.engine": "WARNING", "asyncio": "WARNING", "PIL": "ERROR", "urllib3": "ERROR"}

# Examples:
# - Silence all third-party logs: LOG_THIRD_PARTY_LEVELS={"uvicorn.access": "ERROR", "sqlalchemy.engine": "ERROR"}
# - Debug SQLAlchemy: LOG_THIRD_PARTY_LEVELS={"sqlalchemy.engine": "DEBUG"}
# - Default (recommended for production): LOG_THIRD_PARTY_LEVELS={"uvicorn.access": "WARNING", "sqlalchemy.engine": "WARNING", "asyncio": "WARNING", "PIL": "ERROR", "urllib3": "ERROR"}

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# Cache
CACHE_TYPE=memory  # memory or redis
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=300  # 5 minutes

# AI/ML Settings
MODEL_CACHE_SIZE=5
MAX_BATCH_SIZE=32
GPU_MEMORY_FRACTION=0.8
DEFAULT_INPUT_SIZE=640

# Performance
WORKER_CONNECTIONS=1000
KEEPALIVE=5

# =============================================================================
# Environment-Specific Examples
# =============================================================================

# Development (.env)
# ENVIRONMENT=development
# DEBUG=true
# LOG_LEVEL=DEBUG
# LOG_THIRD_PARTY_LEVELS={"uvicorn.access": "INFO", "sqlalchemy.engine": "INFO"}
# DATABASE_ECHO=true
# CACHE_TYPE=memory

# Staging (.env.staging)
# ENVIRONMENT=staging
# DEBUG=false
# LOG_LEVEL=INFO
# LOG_THIRD_PARTY_LEVELS={"uvicorn.access": "WARNING", "sqlalchemy.engine": "WARNING"}
# CACHE_TYPE=redis

# Production (.env.production)
# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# LOG_THIRD_PARTY_LEVELS={"uvicorn.access": "ERROR", "sqlalchemy.engine": "ERROR", "PIL": "ERROR", "urllib3": "ERROR"}
# CACHE_TYPE=redis
# STORAGE_TYPE=s3
